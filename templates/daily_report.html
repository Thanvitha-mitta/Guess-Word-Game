{% extends "base.html" %}
{% block content %}
<h2>Daily Report</h2>

<form method="GET" style="margin-bottom: 30px;">
    <div class="form-group" style="display: inline-block; margin-right: 20px;">
        <label for="date">Select Date:</label>
        <input type="date" id="date" name="date" value="{{ report_date }}">
    </div>
    <button type="submit" class="btn">Generate Report</button>
</form>

{% if stats %}
<div class="stats">
    <div class="stat-card">
        <div class="stat-number">{{ stats[0] }}</div>
        <div class="stat-label">Total Users</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">{{ stats[1] }}</div>
        <div class="stat-label">Total Games</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">{{ stats[2] }}</div>
        <div class="stat-label">Correct Guesses</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">{{ "%.1f"|format((stats[2] / stats[1] * 100) if stats[1] > 0 else 0) }}%</div>
        <div class="stat-label">Success Rate</div>
    </div>
</div>

<div style="margin-top: 30px; padding: 20px; background-color: #f8f9fa; border-radius: 8px;">
    <h3>Report Summary for {{ report_date }}</h3>
    <p><strong>Date:</strong> {{ report_date }}</p>
    <p><strong>Number of Users:</strong> {{ stats[0] }}</p>
    <p><strong>Number of Games:</strong> {{ stats[1] }}</p>
    <p><strong>Correct Guesses:</strong> {{ stats[2] }}</p>
    <p><strong>Success Rate:</strong> {{ "%.1f"|format((stats[2] / stats[1] * 100) if stats[1] > 0 else 0) }}%</p>
</div>
{% else %}
<div style="text-align: center; padding: 40px;">
    <p>No data available for the selected date.</p>
</div>
{% endif %}
{% endblock %}